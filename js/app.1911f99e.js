(function(){"use strict";var e={6992:function(e,t,l){var o=l(9242),a=l(7309),n=l(7392),i=(l(4415),l(3396));const r=(0,i._)("h1",null,"Budget project",-1);function u(e,t,l,o,a,n){const u=(0,i.up)("Form"),s=(0,i.up)("TotalBalance"),d=(0,i.up)("BudgetList");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i.Wm)(u,{onSubmitForm:n.onSubmitForm},null,8,["onSubmitForm"]),(0,i.Wm)(s,{balance:n.totalBalance},null,8,["balance"]),(0,i.Wm)(d,{list:e.budgetList,onDeleteItem:n.onDeleteItem},null,8,["list","onDeleteItem"])],64)}const s={class:"burger-list-wrap"},d={class:"filters"};function m(e,t,l,o,a,n){const r=(0,i.up)("ElButton"),u=(0,i.up)("BudgetListItem"),m=(0,i.up)("ElAlert"),c=(0,i.up)("ElCard");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c,{header:e.header},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.Wm)(r,{plain:"",onClick:t[0]||(t[0]=e=>n.filterList("ALL")),onKeydown:t[1]||(t[1]=e=>n.filterList("ALL"))},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1}),(0,i.Wm)(r,{plain:"",onClick:t[2]||(t[2]=e=>n.filterList("INCOME")),onKeydown:t[3]||(t[3]=e=>n.filterList("INCOME"))},{default:(0,i.w5)((()=>[(0,i.Uk)("Incomes")])),_:1}),(0,i.Wm)(r,{plain:"",onClick:t[4]||(t[4]=e=>n.filterList("OUTCOME")),onKeydown:t[5]||(t[5]=e=>n.filterList("OUTCOME"))},{default:(0,i.w5)((()=>[(0,i.Uk)("Outcomes")])),_:1})]),n.isEmpty?((0,i.wg)(),(0,i.j4)(m,{key:1,type:"info",title:"This list is empty",closable:!1})):((0,i.wg)(),(0,i.j4)(u,{key:0,list:e.filteredList,onDeleteItem:n.deleteItem},null,8,["list","onDeleteItem"]))])),_:1},8,["header"])])}var c=l(7139);const f=e=>((0,i.dD)("data-v-ae1f2d02"),e=e(),(0,i.Cn)(),e),p={class:"budget-comment"},b=f((()=>(0,i._)("span",null,"Are you sure that you want to delete it?",-1))),g={class:"dialog-footer"};function v(e,t,l,o,a,n){const r=(0,i.up)("Top"),u=(0,i.up)("el-icon"),s=(0,i.up)("Bottom"),d=(0,i.up)("ElButton"),m=(0,i.up)("ElDialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.list,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"list-item",key:t},["INCOME"===e.type?((0,i.wg)(),(0,i.j4)(u,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})):((0,i.wg)(),(0,i.j4)(u,{key:1},{default:(0,i.w5)((()=>[(0,i.Wm)(s)])),_:1})),(0,i._)("span",p,(0,c.zw)(e.comment),1),(0,i._)("span",{class:(0,c.C_)(["budget-value",""+(e.value>=0?"budget-value-green":"budget-value-red")])},(0,c.zw)(e.value),3),(0,i.Wm)(d,{type:"danger",onClick:t=>n.onBtnClick(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Delete")])),_:2},1032,["onClick"])])))),128)),(0,i.Wm)(m,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialogVisible=t),"before-close":e.handleClose},{footer:(0,i.w5)((()=>[(0,i._)("span",g,[(0,i.Wm)(d,{onClick:t[0]||(t[0]=t=>e.dialogVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(d,{type:"primary",onClick:n.deleteItem},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[b])),_:1},8,["modelValue","before-close"])],64)}var h={name:"BudgetListItem",data:()=>({dialogVisible:!1,deletedId:0}),props:{list:{type:Object,default:()=>({})}},methods:{deleteItem(){this.dialogVisible=!1,this.$emit("deleteItem",this.deletedId)},onBtnClick(e){this.dialogVisible=!0,this.deletedId=e.id}}},y=l(89);const w=(0,y.Z)(h,[["render",v],["__scopeId","data-v-ae1f2d02"]]);var I=w,_={name:"BudgetList",components:{BudgetListItem:I},data:()=>({header:"List of my budget",filteredList:{}}),created(){this.filterList("ALL")},props:{list:{type:Object,default:()=>({})}},computed:{isEmpty(){return!Object.keys(this.list).length}},methods:{deleteItem(e){this.$emit("deleteItem",e)},filterList(e){const t=Object.values(this.list);if("ALL"===e)this.filteredList=this.list;else{const l=t.filter((t=>t.type===e));this.filteredList={},l.forEach((e=>this.filteredList[e.id]=e))}}}};const C=(0,y.Z)(_,[["render",m],["__scopeId","data-v-11e87eee"]]);var O=C;function E(e,t,l,o,a,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,c.C_)(["total-balance",n.activeClass])},"Balance: "+(0,c.zw)(l.balance),3)}var L={name:"TotalBalance",props:{balance:{type:Number,default:0}},computed:{activeClass(){return{red:this.balance<0,green:this.balance>0}}}};const D=(0,y.Z)(L,[["render",E],["__scopeId","data-v-696cd5d5"]]);var k=D;function W(e,t,l,o,a,n){const r=(0,i.up)("ElOption"),u=(0,i.up)("ElSelect"),s=(0,i.up)("ElFormItem"),d=(0,i.up)("ElInput"),m=(0,i.up)("ElButton"),c=(0,i.up)("ElForm"),f=(0,i.up)("ElCard");return(0,i.wg)(),(0,i.j4)(f,{class:"form"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{model:a.formData,rules:a.rules,ref:"addItemForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"Type",prop:"type"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{modelValue:a.formData.type,"onUpdate:modelValue":t[0]||(t[0]=e=>a.formData.type=e),placeholder:"Choose type"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{label:"Income",value:"INCOME"}),(0,i.Wm)(r,{label:"Outcome",value:"OUTCOME"})])),_:1},8,["modelValue"])])),_:1}),(0,i.Wm)(s,{label:"Comment",prop:"comment"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:a.formData.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>a.formData.comment=e),placeholder:"Write comment"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(s,{label:"Value",prop:"value"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:a.formData.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.formData.value=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,{onClick:n.onSubmit,type:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("Submit")])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])),_:1})}var V={name:"Form",data(){return{formData:{value:0,comment:"",type:"INCOME"},rules:{type:[{required:!0,message:"Please select type",trigger:"blur"}],comment:[{required:!0,message:"Please print comment",trigger:"blur"}],value:[{required:!0,message:"Please print value",trigger:"blur"},{type:"number",message:"Value must be a number",trigger:"change"},{validator:this.validateValue,trigger:"blur"}]}}},methods:{onSubmit(){this.$refs.addItemForm.validate(((e,t)=>{if(e){const e={...this.formData,value:"OUTCOME"===this.formData.type?-1*this.formData.value:1*this.formData.value};this.$emit("submitForm",e),this.$refs.addItemForm.resetFields()}else console.log("error submit!",t)}))},validateValue(e,t,l){Number(t)<=0?l(new Error("Value cannot be below zero")):l()}}};const j=(0,y.Z)(V,[["render",W]]);var M=j,T=l(65),B={name:"App",components:{BudgetList:O,TotalBalance:k,Form:M},computed:{totalBalance(){return Object.values(this.budgetList).reduce(((e,t)=>e+t.value),0)},...(0,T.Se)("list",["budgetList"])},methods:{...(0,T.nv)("list",["addItem","deleteItem"]),onDeleteItem(e){this.deleteItem(e)},onSubmitForm(e){this.addItem(e)}}};const U=(0,y.Z)(B,[["render",u]]);var F=U,S=l(2748);const A={namespaced:!0,state(){return{list:{1:{type:"INCOME",value:100,comment:"Comment",id:1},2:{type:"OUTCOME",value:-50,comment:"Comment 2",id:2}}}},getters:{budgetList:({list:e})=>e},mutations:{ADD_ITEM(e,t){e.list[t.id]=t},DEL_ITEM(e,t){delete e.list[t]}},actions:{addItem({commit:e},t){const l={...t,id:Math.random()+1};e("ADD_ITEM",l)},deleteItem({commit:e},t){e("DEL_ITEM",t)}}};var N=A;const P=(0,T.MT)({modules:{list:N}});var Z=P;const x=(0,o.ri)(F);x.use(a.Z,{locale:n.Z}),x.use(Z);for(const[$,z]of Object.entries(S))x.component($,z);x.mount("#app")}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,o,a,n){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,u=0;u<o.length;u++)(!1&n||i>=n)&&Object.keys(l.O).every((function(e){return l.O[e](o[u])}))?o.splice(u--,1):(r=!1,n<i&&(i=n));if(r){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,a,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,i=o[0],r=o[1],u=o[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(u)var d=u(l)}for(t&&t(o);s<i.length;s++)n=i[s],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},o=self["webpackChunkbudget_project"]=self["webpackChunkbudget_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[998],(function(){return l(6992)}));o=l.O(o)})();
//# sourceMappingURL=app.1911f99e.js.map